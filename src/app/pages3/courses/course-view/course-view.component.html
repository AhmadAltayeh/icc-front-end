<!-- ======= Header ======= -->
<!-- End Header -->

<main id="main">
  <!-- ======= Breadcrumbs ======= -->
  <div class="breadcrumbs" data-aos="fade-in">
    <div class="container">
      <h2></h2>
      <p></p>
    </div>
  </div>
  <!-- End Breadcrumbs -->

  <!-- ======= Cource Details Section ======= -->
  <section id="course-details" class="course-details">
    <div class="container" data-aos="fade-up">
      <div class="row">
        <div class="col-lg-8">
          <img
            src="https://leverageedublog.s3.ap-south-1.amazonaws.com/blog/wp-content/uploads/2020/04/01170800/Free-Online-Courses-with-Certificates.jpg"
            class="img-fluid"
            alt=""
          />
          <h3>{{ courseData?.name }}</h3>
          <p>
            {{ courseData?.description }}
          </p>
        </div>
        <div class="col-lg-4">
          <div
            class="course-info d-flex justify-content-between align-items-center"
          >
            <p>
              <nz-select
                nzShowSearch
                nzAllowClear
                nzPlaceHolder="اختار المدرس"
                (change)="changeFn(selectedValueId)"
                [(ngModel)]="selectedValueId"
              >
                <ng-container *ngFor="let ins of courseData?.instructors">
                  <nz-option
                    [nzValue]="ins?.id"
                    [nzLabel]="ins?.firstName + ' ' + ins?.lastName"
                  ></nz-option>
                </ng-container>
              </nz-select>
            </p>
            <h5>المدرس</h5>
          </div>

          <div
            class="course-info d-flex justify-content-between align-items-center"
          >
            <p>{{ courseData?.price }}</p>
            <h5>المبلغ</h5>
          </div>

          <div
            class="course-info d-flex justify-content-between align-items-center"
          >
            <p>{{ courseData?.lastRegDay }}</p>
            <h5>اخر وقت للتسجيل</h5>
          </div>

          <div
            class="course-info d-flex justify-content-between align-items-center"
          >
            <p>{{ courseData?.lectureTime }}</p>
            <h5>وقت المحاضرة</h5>
          </div>
          <div
            class="course-info d-flex justify-content-between align-items-center"
          >
            <button (click)="enroll()" class="btn btn-success">سجل الان</button>
            <h5>سجل الان</h5>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End Cource Details Section -->

  <!-- ======= Cource Details Tabs Section ======= -->
  <section id="cource-details-tabs" class="cource-details-tabs">
    <div class="container" data-aos="fade-up">
      <nz-tabset>
        <ng-container *ngFor="let ins of courseData?.instructors">
          <nz-tab
            (nzClick)="getReviews(ins?.id)"
            [nzTitle]="ins?.firstName + ' ' + ins?.lastName + ' Reviews'"
          >
            <ng-container *ngFor="let review of instructorReviews?.data">
              <div class="card-info">
                <div>
                  <img
                    alt="example"
                    src="https://i.ibb.co/swsbWht/student-icon-vector-isolated-white-background-student-sign-student-icon-vector-isolated-white-backgr.png"
                    width="40"
                    height="40"
                    style="background-color: lightgrey; border-radius: 50%"
                  />
                </div>
                <div style="width: 100%">
                  <div style="display: flex; justify-content: space-between">
                    <p style="margin-bottom: 0; font-weight: bold">
                      {{ review?.student?.firstName
                      }}{{ review?.student?.lastName }}
                    </p>
                    <p style="font-weight: light">
                      {{ review?.instructor?.firstName }}
                      {{ review?.instructor?.lastName }} -
                      {{ review?.course?.name }}
                    </p>
                  </div>
                  <nz-rate
                    [ngModel]="review.rating"
                    nzAllowHalf
                    nzDisabled
                    style="margin-right: 20px"
                  ></nz-rate>
                  <span style="color: gray; font-size: small">{{
                    review?.date
                  }}</span>
                  <p>{{ review?.comment }}</p>
                </div>
              </div>
              <hr />
            </ng-container>
          </nz-tab>
        </ng-container>
      </nz-tabset>
    </div>
  </section>
  <!-- End Cource Details Tabs Section -->
</main>
<!-- End #main -->

<!-- ======= Footer ======= -->
<!-- End Footer -->
